# OmniCredit - –ó—ç—ç–ª–∏–π–Ω –£–¥–∏—Ä–¥–ª–∞–≥—ã–Ω –°–∏—Å—Ç–µ–º

## üìã –¢–æ–≤—á —Ç–∞–Ω–∏–ª—Ü—É—É–ª–≥–∞

OmniCredit –Ω—å –æ—Ä—á–∏–Ω “Ø–µ–∏–π–Ω —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏ –∞—à–∏–≥–ª–∞—Å–∞–Ω –∑—ç—ç–ª–∏–π–Ω —É–¥–∏—Ä–¥–ª–∞–≥—ã–Ω –≤–µ–± —Å–∏—Å—Ç–µ–º —é–º. –≠–Ω—ç—Ö“Ø“Ø —Å–∏—Å—Ç–µ–º –Ω—å –∑—ç—ç–ª —Ö“Ø—Å—ç–≥—á–∏–¥ –±–æ–ª–æ–Ω –∑—ç—ç–ª –æ–ª–≥–æ–≥—á–¥–æ–¥ —Ö—è–ª–±–∞—Ä, –Ω–∞–π–¥–≤–∞—Ä—Ç–∞–π “Ø–π–ª—á–∏–ª–≥—ç—ç “Ø–∑“Ø“Ø–ª—ç—Ö—ç–¥ –∑–æ—Ä–∏—É–ª–∞–≥–¥—Å–∞–Ω.

### “Æ–Ω–¥—Å—ç–Ω –±–æ–ª–æ–º–∂—É—É–¥:
- üè¶ –ó—ç—ç–ª–∏–π–Ω ”©—Ä–≥”©–¥”©–ª –∏–ª–≥—ç—ç—Ö (–•—ç—Ä—ç–≥–ª—ç—ç–Ω–∏–π –±–æ–ª–æ–Ω –•—É–¥–∞–ª–¥–∞–Ω –∞–≤–∞–ª—Ç—ã–Ω –∑—ç—ç–ª)
- üí∞ –¢“Ø—Ä–∏–π–≤—á–Ω–∏–π —É–¥–∏—Ä–¥–ª–∞–≥–∞ (–º”©–Ω–≥”© –æ—Ä–ª–æ–≥–æ, –∑–∞—Ä–ª–∞–≥–∞)
- üí≥ –ó—ç—ç–ª–∏–π–Ω —Ç”©–ª–±”©—Ä —Ç”©–ª”©—Ö
- üìä –î—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫ –º—ç–¥—ç—ç–ª—ç–ª
- üë§ –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –ø—Ä–æ—Ñ–∞–π–ª —É–¥–∏—Ä–¥–ª–∞–≥–∞
- üîê –ù–∞–π–¥–≤–∞—Ä—Ç–∞–π –Ω—ç–≤—Ç—Ä—ç—Ö —Å–∏—Å—Ç–µ–º (JWT Token)
- üë®‚Äçüíº –ê–¥–º–∏–Ω—ã —Ö—è–Ω–∞–ª—Ç—ã–Ω —Å–∞–º–±–∞—Ä

---

## üèóÔ∏è –°–∏—Å—Ç–µ–º–∏–π–Ω –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä

```
OmniCredit/
‚îú‚îÄ‚îÄ backend/              # Node.js + Express + PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/      # –¢–æ—Ö–∏—Ä–≥–æ–æ–Ω—ã —Ñ–∞–π–ª—É—É–¥
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/ # Business logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models/      # Database models
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/      # API endpoints
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ middleware/  # Authentication, error handling
‚îÇ   ‚îî‚îÄ‚îÄ server.js        # Server entry point
‚îÇ
‚îî‚îÄ‚îÄ frontend/            # Vanilla JavaScript + Web Components
    ‚îú‚îÄ‚îÄ src/
    ‚îÇ   ‚îú‚îÄ‚îÄ components/  # Reusable UI components
    ‚îÇ   ‚îú‚îÄ‚îÄ pages/       # Page components
    ‚îÇ   ‚îú‚îÄ‚îÄ services/    # API services
    ‚îÇ   ‚îú‚îÄ‚îÄ styles/      # CSS styles
    ‚îÇ   ‚îî‚îÄ‚îÄ main.js      # Application entry point
    ‚îî‚îÄ‚îÄ index.html       # HTML entry point
```

---

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏

### Backend
- **Runtime**: Node.js v18+
- **Framework**: Express.js
- **Database**: PostgreSQL 12+
- **Authentication**: JWT (JSON Web Tokens)
- **Password Security**: bcrypt
- **CORS**: Enabled for frontend communication

### Frontend
- **Architecture**: Web Components (Custom Elements)
- **Module System**: ES6 Modules
- **Build Tool**: Vite
- **Styling**: CSS Variables + Custom CSS
- **Router**: Custom hash-based router
- **State Management**: Component-level state

---

## üì¶ –°—É—É–ª–≥–∞—Ö –∑–∞–∞–≤–∞—Ä

### 1. –®–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π –ø—Ä–æ–≥—Ä–∞–º—É—É–¥
```bash
# Node.js (v18 –±—É—é—É —Ç“Ø“Ø–Ω—ç—ç—Å –¥—ç—ç—à)
node --version

# PostgreSQL (v12 –±—É—é—É —Ç“Ø“Ø–Ω—ç—ç—Å –¥—ç—ç—à)
psql --version

# npm (Node.js-—Ç–∞–π —Ö–∞–º—Ç —Å—É—É—Å–∞–Ω –±–∞–π–¥–∞–≥)
npm --version
```

### 2. Database —Ç–æ—Ö–∏—Ä–≥–æ–æ

PostgreSQL “Ø“Ø—Å–≥—ç—Ö:
```sql
-- –ù—ç–≤—Ç—Ä—ç—Ö
psql -U postgres

-- Database “Ø“Ø—Å–≥—ç—Ö
CREATE DATABASE omnicredit;

-- –•–æ–ª–±–æ–≥–¥–æ—Ö
\c omnicredit

-- –•—ç—Ä—ç–≥–ª—ç–≥—á “Ø“Ø—Å–≥—ç—Ö (–∂–∏—à—ç—ç)
CREATE USER omnicredit_user WITH PASSWORD 'yourpassword';
GRANT ALL PRIVILEGES ON DATABASE omnicredit TO omnicredit_user;
```

Database schema –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä “Ø“Ø—Å–Ω—ç (server —ç—Ö–ª—ç—Ö—ç–¥).

### 3. Backend —Å—É—É–ª–≥–∞—Ö

```bash
# Backend —Ö–∞–≤—Ç–∞—Å —Ä—É—É –æ—Ä–æ—Ö
cd OmniCredit/backend

# Dependencies —Å—É—É–ª–≥–∞—Ö
npm install

# .env —Ñ–∞–π–ª “Ø“Ø—Å–≥—ç—Ö
cp .env.example .env  # —ç—Å–≤—ç–ª —à–∏–Ω—ç—ç—Ä “Ø“Ø—Å–≥—ç—Ö

# .env —Ñ–∞–π–ª—ã–≥ –∑–∞—Å–∞—Ö
nano .env
```

**.env —Ñ–∞–π–ª—ã–Ω –∑–∞–≥–≤–∞—Ä:**
```env
# Server
PORT=5000
NODE_ENV=development

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=omnicredit
DB_USER=omnicredit_user
DB_PASSWORD=yourpassword

# JWT
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# CORS
CORS_ORIGIN=http://localhost:5173
```

```bash
# Server —ç—Ö–ª“Ø“Ø–ª—ç—Ö
npm start

# –≠—Å–≤—ç–ª development –≥–æ—Ä–∏–º–¥ (hot reload)
npm run dev
```

Server –∞–∂–∏–ª–ª–∞–∂ —ç—Ö–ª—ç—Ö—ç–¥:
- ‚úÖ Database —Ö–æ–ª–±–æ–ª—Ç —à–∞–ª–≥–∞–Ω–∞
- ‚úÖ Tables –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä “Ø“Ø—Å–Ω—ç
- ‚úÖ http://localhost:5000 –¥—ç—ç—Ä –∞—Å–Ω–∞

### 4. Frontend —Å—É—É–ª–≥–∞—Ö

```bash
# Frontend —Ö–∞–≤—Ç–∞—Å —Ä—É—É –æ—Ä–æ—Ö
cd OmniCredit/frontend

# Dependencies —Å—É—É–ª–≥–∞—Ö
npm install

# Development server —ç—Ö–ª“Ø“Ø–ª—ç—Ö
npm run dev
```

Frontend –∞–∂–∏–ª–ª–∞–∂ —ç—Ö–ª—ç—Ö—ç–¥:
- ‚úÖ http://localhost:5173 –¥—ç—ç—Ä –Ω—ç—ç–≥–¥—ç–Ω—ç
- ‚úÖ Backend —Ä—É—É API –¥—É—É–¥–ª–∞–≥–∞ —Ö–∏–π–Ω—ç

---

## üóÑÔ∏è Database –±“Ø—Ç—ç—Ü

### Users Table
```sql
CREATE TABLE users (
  id SERIAL PRIMARY KEY,
  email VARCHAR(255) UNIQUE NOT NULL,
  password_hash VARCHAR(255) NOT NULL,
  first_name VARCHAR(100),
  last_name VARCHAR(100),
  phone VARCHAR(20),
  is_admin BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Loans Table
```sql
CREATE TABLE loans (
  id SERIAL PRIMARY KEY,
  user_id INTEGER REFERENCES users(id),
  loan_type VARCHAR(50) NOT NULL, -- 'consumer' or 'purchase'
  amount DECIMAL(12,2) NOT NULL,
  interest_rate DECIMAL(5,2) NOT NULL,
  term_months INTEGER NOT NULL,
  monthly_payment DECIMAL(12,2) NOT NULL,
  total_amount DECIMAL(12,2) NOT NULL,
  purpose TEXT,
  status VARCHAR(50) DEFAULT 'pending',
  invoice_code VARCHAR(100),
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  approved_at TIMESTAMP,
  disbursed_at TIMESTAMP
);
```

### Payments Table
```sql
CREATE TABLE payments (
  id SERIAL PRIMARY KEY,
  loan_id INTEGER REFERENCES loans(id),
  user_id INTEGER REFERENCES users(id),
  amount DECIMAL(12,2) NOT NULL,
  payment_method VARCHAR(50) DEFAULT 'wallet',
  transaction_id VARCHAR(100) UNIQUE,
  status VARCHAR(50) DEFAULT 'completed',
  payment_date TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Wallets Table
```sql
CREATE TABLE wallets (
  id SERIAL PRIMARY KEY,
  user_id INTEGER UNIQUE REFERENCES users(id),
  balance DECIMAL(12,2) DEFAULT 0,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Wallet Transactions Table
```sql
CREATE TABLE wallet_transactions (
  id SERIAL PRIMARY KEY,
  wallet_id INTEGER REFERENCES wallets(id),
  amount DECIMAL(12,2) NOT NULL,
  type VARCHAR(50) NOT NULL, -- 'deposit', 'withdrawal', 'payment', 'loan_disbursement'
  description TEXT,
  reference_id INTEGER,
  created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## üîå Backend API Endpoints

### Authentication (`/api/auth`)

#### POST `/api/auth/register`
–®–∏–Ω—ç —Ö—ç—Ä—ç–≥–ª—ç–≥—á –±“Ø—Ä—Ç–≥—ç—Ö
```json
Request:
{
  "email": "user@example.com",
  "password": "password123",
  "first_name": "–ò–≤–∞–Ω",
  "last_name": "–î–æ—Ä–∂",
  "phone": "99887766"
}

Response:
{
  "message": "–ë“Ø—Ä—Ç–≥—ç–ª –∞–º–∂–∏–ª—Ç—Ç–∞–π",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": { "id": 1, "email": "user@example.com", ... }
}
```

#### POST `/api/auth/login`
–ù—ç–≤—Ç—Ä—ç—Ö
```json
Request:
{
  "email": "user@example.com",
  "password": "password123"
}

Response:
{
  "message": "–ê–º–∂–∏–ª—Ç—Ç–∞–π –Ω—ç–≤—Ç—ç—Ä–ª—ç—ç",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": { "id": 1, "email": "user@example.com", "is_admin": false }
}
```

#### GET `/api/auth/profile`
–•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω –º—ç–¥—ç—ç–ª—ç–ª –∞–≤–∞—Ö (Token —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π)
```
Headers: Authorization: Bearer <token>

Response:
{
  "user": { "id": 1, "email": "user@example.com", ... }
}
```

### Loans (`/api/loans`)

#### POST `/api/loans/apply`
–ó—ç—ç–ª–∏–π–Ω ”©—Ä–≥”©–¥”©–ª –∏–ª–≥—ç—ç—Ö
```json
Request:
{
  "loan_type": "consumer",  // or "purchase"
  "amount": 1000000,
  "duration_months": 12,
  "interest_rate": 2.0,
  "purpose": "–ì—ç—Ä –∞—Ö—É–π–Ω –∑–∞—Ä–¥–∞–ª",
  "invoice_code": "INV-2024-001" // purchase loan-–¥ –ª —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π
}

Response:
{
  "message": "–ó—ç—ç–ª–∏–π–Ω —Ö“Ø—Å—ç–ª—Ç –∞–º–∂–∏–ª—Ç—Ç–∞–π –∏–ª–≥—ç—ç–≥–¥–ª—ç—ç",
  "loan": { "id": 1, "status": "pending", ... }
}
```

#### GET `/api/loans/my-loans`
–ú–∏–Ω–∏–π –∑—ç—ç–ª“Ø“Ø–¥
```
Response:
{
  "loans": [
    {
      "id": 1,
      "amount": 1000000,
      "term_months": 12,
      "status": "approved",
      ...
    }
  ]
}
```

#### GET `/api/loans/:loanId`
–ó—ç—ç–ª–∏–π–Ω –¥—ç–ª–≥—ç—Ä—ç–Ω–≥“Ø–π
```
Response:
{
  "loan": { "id": 1, "amount": 1000000, ... }
}
```

### Payments (`/api/payments`)

#### POST `/api/payments`
–¢”©–ª–±”©—Ä —Ç”©–ª”©—Ö
```json
Request:
{
  "loan_id": 1,
  "amount": 100000
}

Response:
{
  "message": "–¢”©–ª–±”©—Ä –∞–º–∂–∏–ª—Ç—Ç–∞–π —Ö–∏–π–≥–¥–ª—ç—ç",
  "payment": { "id": 1, "amount": 100000, ... }
}
```

#### GET `/api/payments/my-payments`
–ú–∏–Ω–∏–π —Ç”©–ª–±”©—Ä“Ø“Ø–¥
```
Response:
{
  "payments": [
    { "id": 1, "loan_id": 1, "amount": 100000, ... }
  ]
}
```

### Wallet (`/api/wallet`)

#### GET `/api/wallet`
–¢“Ø—Ä–∏–π–≤—á–Ω–∏–π –º—ç–¥—ç—ç–ª—ç–ª
```
Response:
{
  "wallet": { "id": 1, "balance": 500000, ... }
}
```

#### POST `/api/wallet/deposit`
–ú”©–Ω–≥”© –æ—Ä—É—É–ª–∞—Ö
```json
Request:
{
  "amount": 100000
}

Response:
{
  "message": "–ê–º–∂–∏–ª—Ç—Ç–∞–π –æ—Ä—É—É–ª–ª–∞–∞",
  "wallet": { "balance": 600000 }
}
```

#### POST `/api/wallet/withdraw`
–ú”©–Ω–≥”© –≥–∞—Ä–≥–∞—Ö
```json
Request:
{
  "amount": 50000,
  "bank_account": "1234567890"
}

Response:
{
  "message": "–ê–º–∂–∏–ª—Ç—Ç–∞–π –≥–∞—Ä—É—É–ª–ª–∞–∞",
  "wallet": { "balance": 550000 }
}
```

### Admin (`/api/admin`)

#### GET `/api/admin/loans`
–ë“Ø—Ö –∑—ç—ç–ª“Ø“Ø–¥ (Admin only)

#### PUT `/api/admin/loans/:loanId/status`
–ó—ç—ç–ª–∏–π–Ω —Å—Ç–∞—Ç—É—Å ”©”©—Ä—á–ª”©—Ö
```json
Request:
{
  "status": "approved"  // 'pending', 'approved', 'rejected', 'disbursed', 'completed'
}
```

---

## üé® Frontend –±“Ø—Ç—ç—Ü

### Web Components Architecture

Frontend –Ω—å Custom Elements (Web Components) –∞—à–∏–≥–ª–∞–¥–∞–≥:

```javascript
// –ñ–∏—à—ç—ç: Custom Element “Ø“Ø—Å–≥—ç—Ö
class DashboardPage extends HTMLElement {
    constructor() {
        super();
        this.data = null;
    }

    connectedCallback() {
        this.render();
        this.loadData();
    }

    render() {
        this.innerHTML = `
            <div class="dashboard">
                <h1>Dashboard</h1>
            </div>
        `;
    }
}

customElements.define('dashboard-page', DashboardPage);
```

### Router System

Hash-based router –∞—à–∏–≥–ª–∞–¥–∞–≥:

```javascript
// router.js
router.addRoute('/dashboard', {
    component: 'dashboard-page',
    meta: { requiresAuth: true }
});

// –ù–∞–≤–∏–≥–∞—Ü–∏ —Ö–∏–π—Ö
router.navigate('/dashboard');
```

### API Service

–ë“Ø—Ö API –¥—É—É–¥–ª–∞–≥–∞ –Ω—ç–≥—Ç–≥—ç–≥–¥—Å—ç–Ω:

```javascript
// services/api.js
const AuthAPI = {
    async login(credentials) {
        return await api.post('/auth/login', credentials);
    }
};

// –ê—à–∏–≥–ª–∞–ª—Ç
const response = await AuthAPI.login({ email, password });
```

### Folder –±“Ø—Ç—ç—Ü —Ç–∞–π–ª–±–∞—Ä

#### `/components` - –î–∞—Ö–∏–Ω –∞—à–∏–≥–ª–∞–≥–¥–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É—É–¥
- `app-nav.js` - –ù–∞–≤–∏–≥–∞—Ü–∏ —Ü—ç—Å
- `app-footer.js` - Footer
- `loan-card.js` - –ó—ç—ç–ª–∏–π–Ω –∫–∞—Ä—Ç
- `theme-toggle.js` - Theme —Å–æ–ª–∏—Ö —Ç–æ–≤—á

#### `/pages` - –•—É—É–¥–∞—Å–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É—É–¥
- `home-page.js` - –ù“Ø“Ø—Ä —Ö—É—É–¥–∞—Å
- `login-page.js` - –ù—ç–≤—Ç—Ä—ç—Ö —Ö—É—É–¥–∞—Å
- `register-page.js` - –ë“Ø—Ä—Ç–≥“Ø“Ø–ª—ç—Ö —Ö—É—É–¥–∞—Å
- `dashboard-page.js` - –•—è–Ω–∞–ª—Ç—ã–Ω —Å–∞–º–±–∞—Ä
- `loan-application-page.js` - –ó—ç—ç–ª —Ö“Ø—Å—ç—Ö —Ö—É—É–¥–∞—Å
- `loans-page.js` - –ú–∏–Ω–∏–π –∑—ç—ç–ª“Ø“Ø–¥
- `payment-page.js` - –¢”©–ª–±”©—Ä —Ç”©–ª”©—Ö
- `wallet-history-page.js` - –¢“Ø—Ä–∏–π–≤—á–Ω–∏–π —Ç“Ø“Ø—Ö
- `admin-page.js` - –ê–¥–º–∏–Ω—ã —Ö—è–Ω–∞–ª—Ç—ã–Ω —Å–∞–º–±–∞—Ä

#### `/services` - API “Ø–π–ª—á–∏–ª–≥—ç—ç
- `api.js` - REST API –¥—É—É–¥–ª–∞–≥—É—É–¥, Token —É–¥–∏—Ä–¥–ª–∞–≥–∞

#### `/styles` - CSS —Ñ–∞–π–ª—É—É–¥
- `variables.css` - CSS —Ö—É–≤—å—Å–∞–≥—á–∏–¥ (”©–Ω–≥”©, —Ö—ç–º–∂—ç—ç)
- `base.css` - “Æ–Ω–¥—Å—ç–Ω —Å—Ç–∞–π–ª
- `components.css` - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã–Ω —Å—Ç–∞–π–ª—É—É–¥
- `theme.css` - Theme —Ç–æ—Ö–∏—Ä–≥–æ–æ

---

## üé® CSS Variables —Å–∏—Å—Ç–µ–º

### ”®–Ω–≥”©–Ω–∏–π –ø–∞–ª–∏—Ç—Ä
```css
:root {
  /* Primary Colors */
  --primary: #6366f1;
  --primary-dark: #4f46e5;
  --primary-light: #e0e7ff;

  /* UI Colors */
  --success: #10b981;
  --danger: #ef4444;
  --warning: #f59e0b;
  --info: #3b82f6;

  /* Neutral Colors */
  --text: #1f2937;
  --text-muted: #6b7280;
  --bg: #f9fafb;
  --card: #ffffff;
}

/* Dark mode */
[data-theme="dark"] {
  --text: #f9fafb;
  --bg: #111827;
  --card: #1f2937;
}
```

### Responsive –¥–∏–∑–∞–π–Ω
```css
/* Mobile first approach */
.container {
  padding: 1rem;
}

@media (min-width: 768px) {
  .container {
    padding: 2rem;
  }
}

@media (min-width: 1024px) {
  .container {
    max-width: 1200px;
    margin: 0 auto;
  }
}
```

---

## üîê Authentication Flow

### 1. –•—ç—Ä—ç–≥–ª—ç–≥—á –Ω—ç–≤—Ç—Ä—ç—Ö
```
User ‚Üí Frontend ‚Üí POST /api/auth/login ‚Üí Backend
                                           ‚Üì
                                        Validate
                                           ‚Üì
                                      Generate JWT
                                           ‚Üì
Frontend ‚Üê Response with Token ‚Üê Backend
   ‚Üì
Save token to localStorage
```

### 2. Protected API –¥—É—É–¥–∞—Ö
```
Frontend ‚Üí GET /api/loans/my-loans
           Header: Authorization: Bearer <token>
              ‚Üì
          Backend middleware
              ‚Üì
         Verify JWT
              ‚Üì
      Execute request
              ‚Üì
  Frontend ‚Üê Response
```

### 3. Token —à–∞–ª–≥–∞–ª—Ç (Frontend)
```javascript
// Router guard
router.beforeEach((to, from, next) => {
  const isAuthenticated = TokenManager.isAuthenticated();

  if (to.meta.requiresAuth && !isAuthenticated) {
    next('/login');
  } else {
    next();
  }
});
```

---

## üöÄ Performance Optimization

### 1. Lazy Loading
–•—É—É–¥—Å—É—É–¥ —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π “Ø–µ–¥ –ª –∞—á–∞–∞–ª–Ω–∞:
```javascript
// router.js - dynamic import
if (!customElements.get(route.component)) {
  await import(`./pages/${route.component}.js`);
}
```

### 2. Code Splitting
Vite –∞–≤—Ç–æ–º–∞—Ç–∞–∞—Ä –∫–æ–¥ —Ö—É–≤–∞–∞–Ω–∞:
```javascript
// vite.config.js
manualChunks: {
  'vendor': ['./src/services/api.js'],
  'pages-auth': ['./src/pages/login-page.js', ...],
  'pages-main': ['./src/pages/dashboard-page.js', ...]
}
```

### 3. CSS Optimization
- Critical CSS inline
- Non-critical CSS async –∞—á–∞–∞–ª–∞—Ö
```html
<link rel="preload" href="/src/styles/components.css" as="style"
      onload="this.onload=null;this.rel='stylesheet'">
```

### 4. Service Worker
Offline –¥—ç–º–∂–ª—ç–≥ –±–æ–ª–æ–Ω cache:
```javascript
// sw.js
self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then(response => response || fetch(event.request))
  );
});
```

---

## üì± –•—ç—Ä—ç–≥–ª—ç—Ö –∑–∞–∞–≤–∞—Ä

### –•—ç—Ä—ç–≥–ª—ç–≥—á–∏–π–Ω “Ø“Ø—Ä—ç–≥

1. **–ë“Ø—Ä—Ç–≥“Ø“Ø–ª—ç—Ö**: Email, password, –Ω—ç—Ä –±“Ø—Ä—Ç–≥—ç–Ω—ç
2. **–ó—ç—ç–ª —Ö“Ø—Å—ç—Ö**:
   - –•—ç—Ä—ç–≥–ª—ç—ç–Ω–∏–π –∑—ç—ç–ª (2-24 —Å–∞—Ä)
   - –•—É–¥–∞–ª–¥–∞–Ω –∞–≤–∞–ª—Ç—ã–Ω –∑—ç—ç–ª (6 —Å–∞—Ä, invoice code —à–∞–∞—Ä–¥–ª–∞–≥–∞—Ç–∞–π)
3. **–¢“Ø—Ä–∏–π–≤—á —É–¥–∏—Ä–¥–∞—Ö**: –ú”©–Ω–≥”© –æ—Ä—É—É–ª–∞—Ö, –≥–∞—Ä–≥–∞—Ö
4. **–¢”©–ª–±”©—Ä —Ç”©–ª”©—Ö**: –ó—ç—ç–ª–∏–π–Ω —Ç”©–ª–±”©—Ä —Ç“Ø—Ä–∏–π–≤—á–Ω—ç—ç—Å —Ç”©–ª”©—Ö
5. **–¢“Ø“Ø—Ö —Ö–∞—Ä–∞—Ö**: –ó—ç—ç–ª, —Ç”©–ª–±”©—Ä, –≥“Ø–π–ª–≥—ç—ç–Ω–∏–π —Ç“Ø“Ø—Ö

### –ê–¥–º–∏–Ω—ã “Ø“Ø—Ä—ç–≥

1. **–ó—ç—ç–ª —à–∞–ª–≥–∞—Ö**: –ë“Ø—Ö –∑—ç—ç–ª–∏–π–Ω —Ö“Ø—Å—ç–ª—Ç —Ö–∞—Ä–∞—Ö
2. **–ó—ç—ç–ª –∑”©–≤—à”©”©—Ä”©—Ö/—Ç–∞—Ç–≥–∞–ª–∑–∞—Ö**: –°—Ç–∞—Ç—É—Å ”©”©—Ä—á–ª”©—Ö
3. **–ó—ç—ç–ª –æ–ª–≥–æ—Ö**: Approved –∑—ç—ç–ª disbursed –±–æ–ª–≥–æ—Ö (wallet-–¥ –º”©–Ω–≥”© –Ω—ç–º—ç–≥–¥—ç–Ω—ç)
4. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫ —Ö–∞—Ä–∞—Ö**: Dashboard –¥—ç—ç—Ä –µ—Ä”©–Ω—Ö–∏–π –º—ç–¥—ç—ç–ª—ç–ª

---

## üêõ Debugging –∑–∞–∞–≤–∞—Ä

### Backend logs
```bash
# Server logs —Ö–∞—Ä–∞—Ö
npm start

# Database —Ö–æ–ª–±–æ–ª—Ç —à–∞–ª–≥–∞—Ö
psql -U omnicredit_user -d omnicredit -c "SELECT NOW();"
```

### Frontend debugging
```javascript
// Browser Console (F12)
// Token —à–∞–ª–≥–∞—Ö
console.log(localStorage.getItem('authToken'));

// API response —Ö–∞—Ä–∞—Ö
const response = await AuthAPI.getProfile();
console.log(response);
```

### Common Issues

**Backend —ç—Ö–ª—ç—Ö–≥“Ø–π –±–∞–π–Ω–∞:**
- PostgreSQL –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö: `pg_isready`
- .env —Ñ–∞–π–ª –∑”©–≤ —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö
- Port 5000 —ç–∑—ç–º–¥—Å—ç–Ω —ç—Å—ç—Ö–∏–π–≥ —à–∞–ª–≥–∞—Ö: `netstat -an | grep 5000`

**Frontend backend-—Ç—ç–π —Ö–æ–ª–±–æ–≥–¥–æ—Ö–≥“Ø–π –±–∞–π–Ω–∞:**
- Backend –∞–∂–∏–ª–ª–∞–∂ –±–∞–π–≥–∞–∞ —ç—Å—ç—Ö: http://localhost:5000
- CORS —Ç–æ—Ö–∏—Ä–≥–æ–æ –∑”©–≤ —ç—Å—ç—Ö (.env –¥—ç—ç—Ä CORS_ORIGIN)
- Network tab –¥—ç—ç—Ä API –¥—É—É–¥–ª–∞–≥–∞ —Ö–∞—Ä–∞—Ö (F12)

**Token expired:**
- localStorage-—Å token —É—Å—Ç–≥–∞—Ö: `localStorage.removeItem('authToken')`
- –î–∞—Ö–∏–Ω –Ω—ç–≤—Ç—Ä—ç—Ö

---

## üìÑ License

MIT License - –•—É–≤–∏–π–Ω –±–æ–ª–æ–Ω –∞—Ä–∏–ª–∂–∞–∞–Ω—ã –∑–æ—Ä–∏—É–ª–∞–ª—Ç–∞–∞—Ä —á”©–ª”©”©—Ç—ç–π –∞—à–∏–≥–ª–∞–∂ –±–æ–ª–Ω–æ.

---

## üë• –•”©–≥–∂“Ø“Ø–ª—ç–≥—á–∏–¥

OmniCredit –±“Ø—Ç—ç—ç–≥–¥—ç—Ö“Ø“Ø–Ω

## ü§ù –î—ç–º–∂–ª—ç–≥

–ê—Å—É—É–ª—Ç, —Å–∞–Ω–∞–ª –±–∞–π–≤–∞–ª:
- Email: support@omnicredit.mn
- GitHub Issues: [Create Issue](https://github.com/yourrepo/omnicredit/issues)

---

**–ê–Ω—Ö–∞–∞—Ä**: Production –≥–æ—Ä–∏–º–¥ deploy —Ö–∏–π—Ö–¥—ç—ç:
1. ‚úÖ JWT_SECRET —Å–æ–ª–∏—Ö (—É—Ä—Ç, —Å–∞–Ω–∞–º—Å–∞—Ä–≥“Ø–π –º”©—Ä –∞—à–∏–≥–ª–∞—Ö)
2. ‚úÖ Database password secure –±–∞–π–ª–≥–∞—Ö
3. ‚úÖ HTTPS –∞—à–∏–≥–ª–∞—Ö
4. ‚úÖ Rate limiting –Ω—ç–º—ç—Ö
5. ‚úÖ Input validation —Å–∞–π–∂—Ä—É—É–ª–∞—Ö
6. ‚úÖ Error logging —Å–∏—Å—Ç–µ–º—Ç—ç–π –±–æ–ª–≥–æ—Ö
7. ‚úÖ Regular backup —Ö–∏–π—Ö
